package week5_0429_Cafe;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.List;

public class CafeDAO {
	List<CafeDTO> manyMenuList = new ArrayList<CafeDTO>();

	String url = "jdbc:oracle:thin:@localhost:1521:xe";
	String id = "KH";
	String pw = "KH";

	// 여러개 한번에 입력
	public void insertMenu(CafeDTO cafeMenu) throws SQLException {
		Connection con = DriverManager.getConnection(url, id, pw);
		Statement stmt = con.createStatement();
		String sql = "insert into cafe_menu values (cafe_menu_seq.nextval,"+cafeMenu.getMenu()+","+cafeMenu.getPrice()+")";

		int rs = stmt.executeUpdate(sql);
		if(rs > 0) {
			System.out.println("입력성공");
		}else {
			System.out.println("입력실패");
		}
	}
	
	public void deleteMenu(int deletionId) throws SQLException {
		Connection con = DriverManager.getConnection(url, id, pw);
		Statement stmt = con.createStatement();
		String sql = "delete from cafe_menu where id = "+deletionId;
		String selectId = "select * from cafe_menu where id = "+deletionId;
		int rs = stmt.executeUpdate(sql);
		if(rs > 0) {
			System.out.println("삭제성공");
		}else {
			System.out.println("삭제실패");
		}
		
	}

}

// 삭제

// 수정

// 검색
